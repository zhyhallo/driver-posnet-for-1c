<!DOCTYPE html>
<html lang="uk">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Driver POSNET / Thermal для 1С:Enterprise – купити / ціна / функції</title>
    <meta name="description" content="Готова зовнішня компонента для інтеграції з POSNET / Thermal реєстраторами в 1С:Enterprise. Надійність, стабільність, техпідтримка. Ціна 1500 зл.">
    
    <!-- Preconnect to external domains for faster loading -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://my.zadarma.com">
    
    <!-- Load critical font -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Preload critical CSS -->
    <link href="/src/main.css" rel="stylesheet" />
    
    <!-- Add favicon for better UX -->
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
</head>

<body>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
    
    <!-- Load Zadarma widget with better error handling -->
    <script type="text/javascript">
        (function() {
            var ZCallbackWidgetLinkId = 'edec1cbf8a1f75508f534464a2b4fa55';
            var ZCallbackWidgetDomain = 'my.zadarma.com';
            
            function loadZadarmaWidget() {
                // Prevent double loading
                if (window.ZCallbackWidget || document.querySelector('[src*="zadarma"]')) {
                    console.log('Zadarma widget already loaded or loading');
                    return;
                }
                
                console.log('Loading Zadarma widget...');
                
                var script = document.createElement('script');
                script.type = 'text/javascript';
                script.charset = 'utf-8';
                script.async = true;
                script.src = 'https://' + ZCallbackWidgetDomain + '/callbackWidget/js/main.min.js?v=1.15.4&t=' + Date.now();
                
                script.onload = function() {
                    console.log('✅ Zadarma widget script loaded successfully');
                };
                
                script.onerror = function() {
                    console.warn('❌ Failed to load Zadarma widget script');
                };
                
                // Add to head instead of before first script
                document.head.appendChild(script);
            }
            
            // Multiple loading strategies
            if (document.readyState === 'loading') {
                document.addEventListener('DOMContentLoaded', loadZadarmaWidget);
            } else if (document.readyState === 'interactive') {
                setTimeout(loadZadarmaWidget, 100);
            } else {
                loadZadarmaWidget();
            }
            
            // Backup loading after window load
            window.addEventListener('load', function() {
                setTimeout(function() {
                    if (!document.querySelector('[id*="callback"], [class*="callback"], [id*="zadarma"], [class*="zadarma"]')) {
                        console.log('Retrying Zadarma widget load...');
                        loadZadarmaWidget();
                    }
                }, 2000);
            });
        })();
    </script>
</body>

</html>
